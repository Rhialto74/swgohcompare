<!--<table mat-table [dataSource]="rosterInput" class="mat-elevation-z8 mat-table" *ngIf="rosterInput" style="width:100%">
  <ng-container matColumnDef="statName">
    <th mat-header-cell *matHeaderCellDef> </th>
    <td mat-cell *matCellDef="let element"> {{element.statName}} </td>
  </ng-container>
  <ng-container matColumnDef="statValueP1">
    <th mat-header-cell *matHeaderCellDef> {{getPlayerNames(0)}} </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="element.statName == 'skills' else elseBlock">
        <div *ngFor="let skill of sortSkills('nameKey', element.statValueP1)">
          {{skill.nameKey}}<br />
          Level {{skill.tier}}
        </div>
        {{element.nameKey}}
      </div>
      <ng-template #elseBlock>{{element.statValueP1}}</ng-template>

    </td>
  </ng-container>
  <ng-container matColumnDef="statValueP2">
    <th mat-header-cell *matHeaderCellDef> {{getPlayerNames(1)}} </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="element.statName == 'skills' else elseBlock">
        <div *ngFor="let skill of sortSkills('nameKey', element.statValueP2)">
          {{skill.nameKey}}<br />
          Level {{skill.tier}}
        </div>
        {{element.nameKey}}
      </div>
      <ng-template #elseBlock>{{element.statValueP2}}</ng-template>

    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay;  odd as isOdd" [ngClass]="{'highlight-row' : isOdd}"></tr>
</table>-->

<table mat-table [dataSource]="rosterInput" class="mat-elevation-z8 mat-table topResultTable" *ngIf="rosterInput">
  <ng-container matColumnDef="playerName">
    <th mat-header-cell *matHeaderCellDef> Player Name </th>
    <td mat-cell *matCellDef="let element"> {{element.playerName}} </td>
  </ng-container>
  <ng-container matColumnDef="rarity">
    <th mat-header-cell *matHeaderCellDef> Rarity </th>
    <td mat-cell *matCellDef="let element"> {{element.rarity}} </td>
  </ng-container>
  <ng-container matColumnDef="nameKey">
    <th mat-header-cell *matHeaderCellDef> Character Name </th>
    <td mat-cell *matCellDef="let element"> {{element.nameKey}} </td>
  </ng-container>
  <ng-container matColumnDef="level">
    <th mat-header-cell *matHeaderCellDef> Level </th>
    <td mat-cell *matCellDef="let element"> {{element.level}} </td>
  </ng-container>
  <ng-container matColumnDef="skills">
    <th mat-header-cell *matHeaderCellDef> Skills </th>
    <td mat-cell *matCellDef="let element">
      <div *ngFor="let skill of sortSkills('nameKey', element.skills)">
        {{skill.nameKey}}<br />
        Level {{skill.tier}}
      </div>

    </td>
  </ng-container>
  <ng-container matColumnDef="gear">
    <th mat-header-cell *matHeaderCellDef> Gear Level </th>
    <td mat-cell *matCellDef="let element"> {{element.gear}} </td>
  </ng-container>
  <ng-container matColumnDef="character">
    <th mat-header-cell *matHeaderCellDef> Gear </th>
    <td mat-cell *matCellDef="let element" style="">
      <div style="width:150px">
        <div style="width:50%; float:left;" *ngFor="let equip of element.character.gearSlots; index as i">
          <span style="width:56px;" *ngIf="i < 3">
            <span class="helper"></span><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGear" *ngIf="equip.equipped; else elseBlock" />
            <ng-template #elseBlock><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGearDisabled" /></ng-template>
          </span>
        </div>
        <div style="width:50%; float:left;" *ngFor="let equip of element.character.gearSlots; index as i">
          <span style="width:56px;" *ngIf="i >= 3">
            <span class="helper"></span><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGear" *ngIf="equip.equipped; else elseBlock" />
            <ng-template #elseBlock><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGearDisabled" /></ng-template>
          </span>
        </div>
      </div>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay;  odd as isOdd" [ngClass]="{'highlight-row' : isOdd}"></tr>
</table>

<div class="statRow" *ngIf="rosterInput">
  <mat-card class="statColumn" *ngFor="let roster of rosterInput">
    <mat-card-title> Skills </mat-card-title>
    <mat-card-subtitle>{{roster.playerName}}</mat-card-subtitle>
    <mat-card-content>
      <mat-list>
        <mat-list-item *ngFor="let skill of sortSkills('nameKey', roster.skills)">
          {{skill.nameKey}}<br />
          Level {{skill.tier}}
          <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>

<div class="statRow" *ngIf="rosterInput">
  <mat-card class="statColumn" *ngFor="let roster of rosterInput">
    <mat-card-title> Gear Level {{roster.gear}}</mat-card-title>
    <mat-card-subtitle>{{roster.playerName}}</mat-card-subtitle>
    <div style="width:150px">
      <div style="width:50%; float:left;" *ngFor="let equip of roster.character.gearSlots; index as i">
        <span style="width:56px;" *ngIf="i < 3">
          <span class="helper"></span><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGear" *ngIf="equip.equipped; else elseBlock" />
          <ng-template #elseBlock><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGearDisabled" /></ng-template>
        </span>
      </div>
      <div style="width:50%; float:left;" *ngFor="let equip of roster.character.gearSlots; index as i">
        <span style="width:56px;" *ngIf="i >= 3">
          <span class="helper"></span><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGear" *ngIf="equip.equipped; else elseBlock" />
          <ng-template #elseBlock><img src="{{equip.imageUrl}}" alt="{{equip.name}}" width="56" height="56" class="imgGearDisabled" /></ng-template>
        </span>
      </div>
    </div>
  </mat-card>
</div>
